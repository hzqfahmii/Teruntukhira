<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teruntuk Hira ❤️</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <style>
        /* --- General & Body Setup --- */
        :root {
            --primary-pink: #ff69b4;     /* Hot Pink */
            --light-pink: #ffe4e6;       /* Misty Rose */
            --medium-pink: #ffb6c1;      /* Light Pink */
            --dark-pink: #c2185b;        /* Deeper Pink */
            --text-color: #333;
            --bg-color: #fff0f5;         /* Lavender Blush */
            --card-bg: #ffffff;
            --shadow-light: rgba(0, 0, 0, 0.08);
            --shadow-medium: rgba(0, 0, 0, 0.15);
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 0;
            overflow-x: hidden; 
            line-height: 1.6;
            scroll-behavior: smooth; 
        }

        /* --- Background Animation: Floating Hearts --- */
        .heart-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
            z-index: -1; 
        }

        .heart {
            position: absolute;
            background: rgba(255, 105, 180, 0.3); 
            width: 15px;
            height: 15px;
            transform: rotate(-45deg);
            animation: floatHeart 15s infinite ease-in-out;
            border-radius: 50% 50% 0 0;
            opacity: 0;
        }

        .heart::before,
        .heart::after {
            content: "";
            position: absolute;
            width: 100%;
            height: 100%;
            background: inherit;
            border-radius: 50%;
        }

        .heart::before {
            left: -50%;
        }

        .heart::after {
            top: -50%;
        }

        @keyframes floatHeart {
            0% {
                transform: translateY(100vh) rotate(-45deg) scale(0);
                opacity: 0;
            }
            20% { opacity: 0.8; }
            100% {
                transform: translateY(-10vh) rotate(-45deg) scale(1.5);
                opacity: 0;
            }
        }

        /* Heart instances */
        .heart:nth-child(1) { left: 10%; animation-delay: 0s; transform: scale(0.8) rotate(-45deg); }
        .heart:nth-child(2) { left: 20%; animation-delay: 2s; transform: scale(1.2) rotate(-45deg); }
        .heart:nth-child(3) { left: 30%; animation-delay: 4s; transform: scale(0.9) rotate(-45deg); }
        .heart:nth-child(4) { left: 40%; animation-delay: 6s; transform: scale(1.1) rotate(-45deg); }
        .heart:nth-child(5) { left: 50%; animation-delay: 8s; transform: scale(0.7) rotate(-45deg); }
        .heart:nth-child(6) { left: 60%; animation-delay: 10s; transform: scale(1.3) rotate(-45deg); }
        .heart:nth-child(7) { left: 70%; animation-delay: 12s; transform: scale(1.0) rotate(-45deg); }
        .heart:nth-child(8) { left: 80%; animation-delay: 14s; transform: scale(0.6) rotate(-45deg); }
        .heart:nth-child(9) { left: 90%; animation-delay: 16s; transform: scale(1.4) rotate(-45deg); }
        .heart:nth-child(10) { left: 5%; animation-delay: 1s; transform: scale(0.95) rotate(-45deg); }

        /* --- Main Container --- */
        .container {
            max-width: 800px;
            margin: 40px auto;
            padding: 20px;
            text-align: center;
            background-color: var(--card-bg);
            border-radius: 20px;
            box-shadow: 0 10px 30px var(--shadow-medium);
            position: relative; 
            z-index: 1;
        }

        /* --- Title --- */
        h1 {
            font-family: 'Dancing Script', cursive;
            color: var(--dark-pink);
            font-size: 3.8rem; 
            margin-top: 30px;
            margin-bottom: 30px;
            text-shadow: 2px 2px 5px var(--light-pink);
            animation: fadeInScale 1.5s ease-out forwards; 
            opacity: 0; 
        }

        @keyframes fadeInScale {
            from { opacity: 0; transform: scale(0.8); }
            to { opacity: 1; transform: scale(1); }
        }

        /* --- Tidied-Up Top Section --- */
        .top-section {
            display: flex;
            flex-direction: column; 
            align-items: center; 
            margin-bottom: 40px; 
        }
        
        /* 1. Instruction Text */
        .envelope-instruction {
            display: flex; 
            justify-content: center; 
            align-items: center; 
            color: var(--dark-pink);
            font-weight: 600;
            font-size: 0.9rem;
            margin-bottom: 15px; 
            opacity: 1;
            transition: opacity 0.5s ease-out;
        }
        .envelope-instruction.fade-out {
            opacity: 0;
            pointer-events: none; 
        }

        .envelope-instruction span {
            margin-right: 8px;
        }

        .envelope-instruction i {
            font-size: 1.5rem; 
            animation: bounceArrow 1.5s infinite;
        }

        @keyframes bounceArrow {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(8px); 
            }
            60% {
                transform: translateY(4px);
            }
        }
        
        /* 2. Envelope Outer Container */
        .envelope-outer {
            position: relative;
            display: inline-block; 
            perspective: 1000px;
            z-index: 10; 
        }

        .envelope-wrapper {
            width: 200px; 
            height: 140px;
            position: relative;
            background-color: var(--medium-pink); 
            border-radius: 10px;
            box-shadow: 0 8px 20px var(--shadow-light);
            cursor: pointer;
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
            display: flex;
            justify-content: center;
            align-items: center;
            border: 2px solid var(--primary-pink);
            overflow: hidden; 
        }
        .envelope-wrapper:hover {
            transform: translateY(-5px) scale(1.03);
            box-shadow: 0 12px 25px var(--shadow-medium);
        }

        /* Envelope flap (top triangle) */
        .envelope-flap {
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 0;
            border-left: 100px solid transparent;
            border-right: 100px solid transparent;
            border-top: 70px solid var(--primary-pink); 
            transform-origin: top;
            transition: transform 0.5s ease-in-out;
            z-index: 2;
        }
        
        .envelope-outer.open .envelope-flap {
            transform: rotateX(180deg);
            z-index: 0; 
        }

        /* The actual "card" that slides out */
        .envelope-card {
            position: absolute;
            width: 90%;
            height: 85%;
            background-color: var(--card-bg);
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.3rem;
            font-weight: bold;
            color: var(--dark-pink);
            transform: translateY(100%); 
            transition: transform 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55); 
            z-index: 1; 
            padding: 10px;
            box-sizing: border-box;
            text-align: center;
        }
        
        .envelope-outer.open .envelope-card {
            transform: translateY(-10%); 
        }

        /* 3. Music Player */
        .music-player {
            display: inline-flex; 
            align-items: center;
            background-color: var(--primary-pink);
            color: white;
            padding: 15px 30px; 
            border-radius: 50px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            cursor: pointer;
            z-index: 10;
            transition: background-color 0.3s ease, transform 0.3s ease;
            margin-top: 30px; 
            font-size: 1.2rem; 
        }
        .music-player:hover {
            background-color: var(--dark-pink);
            transform: scale(1.05); 
        }

        .music-player i {
            font-size: 1.4rem; 
            margin-right: 15px; 
        }
        .music-player span {
            font-size: 1.1rem; 
            font-weight: 600;
        }

        /* --- Photo Gallery --- */
        .photo-gallery {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px; 
            margin-top: 0; 
            margin-bottom: 60px;
            padding: 20px 0;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s ease-out 0.3s, transform 0.8s ease-out 0.3s; 
        }
        .photo-gallery.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .polaroid {
            background-color: var(--card-bg);
            padding: 10px;
            border-radius: 5px;
            box-shadow: 0 5px 15px var(--shadow-light);
            transform: rotate(var(--rotation, 0deg)); 
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            cursor: pointer;
            width: 180px; 
        }
        .polaroid:hover {
            transform: rotate(var(--rotation, 0deg)) scale(1.05); 
            box-shadow: 0 8px 20px var(--shadow-medium);
        }

        .polaroid img {
            width: 100%;
            height: 120px; 
            object-fit: cover; 
            display: block;
            margin-bottom: 8px;
            border-radius: 3px;
        }

        .polaroid p {
            font-size: 0.9rem;
            color: #666;
            margin: 0;
            text-align: center;
        }

        /* --- Text Sections --- */
        .text-section {
            margin-top: 50px;
            text-align: left;
            background: var(--card-bg);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 8px 20px var(--shadow-light);
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        .text-section.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .text-section p {
            font-size: 1.15rem;
            line-height: 1.8;
            color: #555;
            margin-bottom: 25px;
        }
        .text-section p:last-child {
            margin-bottom: 0;
        }
        
        /* --- Video Section --- */
        .video-section {
            margin-top: 60px;
            background: var(--card-bg);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 8px 20px var(--shadow-light);
            text-align: left;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        .video-section.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .video-section h2 {
            font-family: 'Dancing Script', cursive;
            color: var(--primary-pink);
            font-size: 2.5rem;
            border-bottom: 2px solid var(--light-pink);
            padding-bottom: 15px;
            margin-bottom: 25px;
        }

        .video-placeholder {
            width: 100%;
            position: relative;
            padding-bottom: 56.25%; 
            height: 0;
            background: #fdf3f5; 
            border: 2px dashed var(--light-pink);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary-pink);
            font-weight: bold;
            font-size: 1.2rem;
            text-shadow: 1px 1px 2px rgba(255,255,255,0.5);
       
        }
        
        .video-placeholder iframe, .video-placeholder video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 10px;
            border: none;
        }

        /* --- Surprise Section --- */
        .surprise-section {
            margin-top: 60px;
            padding: 30px;
            border-top: 2px dashed var(--light-pink);
        }

        .love-button {
            background-color: var(--primary-pink);
            color: white;
            border: none;
            border-radius: 50px;
            padding: 20px 40px;
            font-size: 1.3rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.3s ease;
            box-shadow: 0 5px 15px rgba(255, 105, 180, 0.4);
            animation: pulseHeart 2s infinite;
        }
        .love-button:hover {
            background-color: var(--dark-pink);
            transform: scale(1.05);
        }
        .love-button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
            animation: none;
            box-shadow: none;
        }
        .love-button i {
            margin-right: 10px;
        }
        #clickCounter {
            display: inline-block;
            margin-left: 10px;
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--dark-pink);
            background-color: white;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            line-height: 30px;
            vertical-align: middle;
        }

        @keyframes pulseHeart {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .surprise-reveal {
            margin-top: 40px;
            opacity: 0;
            transform: scale(0.8);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
            pointer-events: none; 
        }
        .surprise-reveal.visible {
            opacity: 1;
            transform: scale(1);
            pointer-events: auto; 
        }

        .bouquet-img {
            max-width: 80%;
            height: auto;
            border-radius: 15px;
            box-shadow: 0 10px 30px var(--shadow-medium);
            margin-bottom: 20px;
        }
        
        .surprise-text {
            font-family: 'Dancing Script', cursive;
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--dark-pink);
            text-shadow: 2px 2px 5px var(--light-pink);
        }

        /* ========================================
        === NEW: LOVE SHOWER STYLES ===
        ========================================
        */
        .love-shower-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999; /* On top of everything */
            overflow: hidden;
        }
        
        .love-shower-heart {
            position: absolute;
            top: -50px; /* Start above screen */
            font-size: 1.5rem;
            user-select: none;
            animation-name: fall;
            animation-timing-function: linear;
        }
        
        @keyframes fall {
            from {
                transform: translateY(0vh) rotate(0deg);
                opacity: 1;
            }
            to {
                transform: translateY(105vh) rotate(360deg); /* Fall past the bottom */
                opacity: 0;
            }
        }

        /* Responsive Adjustments */
        @media (max-width: 600px) {
            h1 {
                font-size: 2.8rem;
            }
            
            .envelope-wrapper {
                width: 160px;
                height: 110px;
            }
            .envelope-flap {
                border-left-width: 80px;
                border-right-width: 80px;
                border-top-width: 55px;
            }
            .envelope-card {
                font-size: 1rem;
            }
            .polaroid {
                width: 150px;
            }
            .polaroid img {
                height: 100px;
            }
            .video-section h2 {
                font-size: 2rem;
            }
            .text-section p {
                font-size: 1rem;
            }
            .container {
                margin: 20px auto;
                padding: 15px;
                border-radius: 15px;
            }
            .music-player {
                padding: 12px 25px;
                font-size: 1rem;
            }
            .music-player i {
                font-size: 1.2rem;
            }
            .love-button {
                padding: 15px 30px;
                font-size: 1rem;
            }
            .surprise-text {
                font-size: 1.8rem;
            }
        }

    </style>
</head>
<body>

    <div class="heart-bg">
        <div class="heart"></div>
        <div class="heart"></div>
        <div class="heart"></div>
        <div class="heart"></div>
        <div class="heart"></div>
        <div class="heart"></div>
        <div class="heart"></div>
        <div class="heart"></div>
        <div class="heart"></div>
        <div class="heart"></div>
    </div>

    <div id="loveShowerContainer" class="love-shower-container"></div>


    <div class="container">

        <h1>TERUNTUK HIRA ❤️</h1>

        <div class="top-section">
            
            <div class="envelope-instruction" id="envelopeInstruction">
                <span>Tap to open</span>
                <i class="fas fa-hand-point-down"></i>
            </div>

            <div class="envelope-outer" id="envelopeOuter">
                <div class="envelope-wrapper">
                    <div class="envelope-flap"></div>
                    <div class="envelope-card">
                        Day 1 : Rajuk ❤️
                    </div>
                </div>
            </div>

            <div class="music-player" id="musicPlayer">
                <i class="fas fa-play" id="playPauseIcon"></i>
                <span>Play Music</span>
                <audio id="backgroundMusic" loop>
                    <source src="Anugerah_Terindah.mp3" type="audio/mpeg">
                    Your browser does not support the audio element.
                </audio>
            </div>

        </div> <div class="photo-gallery">
            <div class="polaroid" style="--rotation: -3deg;">
                <img src="hirafahmi1.jpg" alt="Khusyuk Dengar">
                <p>Sorang hidung kembang sorang pipi kembang</p>
            </div>
            <div class="polaroid" style="--rotation: 5deg;">
                <img src="hirafahmi2.jpg" alt="Breakfast sama-sama">
                <p>Suka weyh ingat masa ni</p>
            </div>
            <div class="polaroid" style="--rotation: -2deg;">
                <img src="hirafahmi3.jpg" alt="Fokus molek awak">
                <p>Time ni bincang apa tah, tapi awak macam marah saya</p>
            </div>
            <div class="polaroid" style="--rotation: 4deg;">
                <img src="hirafahmi4.jpg" alt="Muka ngantuk">
                <p>Barai gila time ni tapi best</p>
            </div>
        </div>

        <div class="text-section">
            <p>
                Assalamualaikum awak, Ingat tak dulu kita gaduh kat studio sampai ke bilik mpp. Sampai sekarang kalau saya ingat buat saya senyum sorang-sorang. Banyak gila saya tak pandai waktu tu. Tak sangka hampir setahun berlalu, waktu tu kita serious, tapi bila ingat balik rasa lucu la sikit
            </p>
            <p>
                Lepastu ingat tak yg saya mention awak time presentation report kewangan, yg sir farouk semua gelak perli saya, hahahah. waktu tu sir farouk suka mention yang saya turun ni tak kosong 🤣😂
            </p>
        </div>

        <div class="video-section">
            <h2>Our Video</h2>
            <div class="video-placeholder">
<video 
    style="position:absolute; top:0; left:0; width:100%; height:100%;" 
    controls>

    <source src="our-video.mp4" type="video/mp4">

    Your browser does not support the video tag.
</video>
                </div>
        </div>
        
        <div class="text-section reveal-on-scroll">
            <p>
                Banyak lagi saya nak recap stay tuned!!!
            </p>
            <p>
                Cuma untuk Day 1 ni. saya nak awak ingat balik gelagat kita, celoteh kita, banyak laa yang bila kita ingat tu akan buat kita ketawa 😂. Satu benda saya nak cakap Thank you untuk semuanya, thank you buat saya happy, thank you untuk hampir setahun bersama, banyak cabaran yang kita kena hadap, banyak lagi perkara yang kita akan buat, doakan kita dipanjangkan umur, dimurahkan rezeki. Yang paling penting Saya cintakan awak sepenuh hati saya Mahirah Binti Muhajree ❤️
            </spp>
        </div>
        
        <div class="surprise-section">
            <button id="loveButton" class="love-button">
                <i class="fas fa-heart"></i> Click Me Fast! 
                <span id="clickCounter"></span>
            </button>
            
            <div id="surpriseReveal" class="surprise-reveal">
                <img src="bouquethira.jpg" alt="Flower Bouquet" class="bouquet-img">
                <p class="surprise-text">one more surprise this evening ❤️</p>
            </div>
        </div>

    </div>

    
    <script>
        document.addEventListener("DOMContentLoaded", function() {

            // --- Envelope Click Logic ---
            const envelopeOuter = document.getElementById('envelopeOuter');
            const envelopeInstruction = document.getElementById('envelopeInstruction');
            
            envelopeOuter.addEventListener('click', function() {
                this.classList.toggle('open');
                if (this.classList.contains('open')) {
                    envelopeInstruction.classList.add('fade-out'); // Fade out instruction on open
                } else {
                    envelopeInstruction.classList.remove('fade-out'); // Fade in instruction on close
                }
            });

            // --- Scroll Reveal Logic ---
            const observerOptions = {
                root: null, 
                rootMargin: '0px',
                threshold: 0.1 
            };

            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                        observer.unobserve(entry.target); 
                    }
                });
            }, observerOptions);

            // Observe all relevant sections for animation
            document.querySelectorAll('.text-section, .video-section, .photo-gallery').forEach(el => {
                observer.observe(el);
            });

            // --- Music Player Logic ---
            const backgroundMusic = document.getElementById('backgroundMusic');
            const musicPlayer = document.getElementById('musicPlayer');
            const playPauseIcon = document.getElementById('playPauseIcon');
            let firstPlay = true; // NEW: Flag for love shower

            musicPlayer.addEventListener('click', function() {
                if (backgroundMusic.paused) {
                    backgroundMusic.play();
                    playPauseIcon.classList.remove('fa-play');
                    playPauseIcon.classList.add('fa-pause');
                    musicPlayer.querySelector('span').textContent = 'Pause Music';

                    // === NEW: Trigger love shower on first play ===
                    if (firstPlay) {
                        startLoveShower();
                        firstPlay = false; // Set flag so it doesn't run again
                    }
                    // =============================================

                } else {
                    backgroundMusic.pause();
                    playPauseIcon.classList.remove('fa-pause');
                    playPauseIcon.classList.add('fa-play');
                    musicPlayer.querySelector('span').textContent = 'Play Music';
                }
            });
            
            // --- Surprise Button Logic ---
            const loveButton = document.getElementById('loveButton');
            const clickCounter = document.getElementById('clickCounter');
            const surpriseReveal = document.getElementById('surpriseReveal');
            
            let clickCount = 0;
            const clicksNeeded = 10; // How many clicks to reveal
            let clickTimer = null;
            const timeLimit = 1500; // 1.5 seconds to reset

            loveButton.addEventListener('click', function() {
                clickCount++;
                clickCounter.textContent = clickCount;

                // Simple shake animation on click
                this.style.transform = `scale(1.1) rotate(${Math.random() * 10 - 5}deg)`;
                setTimeout(() => { this.style.transform = 'scale(1)'; }, 100);

                // Clear the reset timer
                clearTimeout(clickTimer);

                // Check if clicks are enough
                if (clickCount >= clicksNeeded) {
                    surpriseReveal.classList.add('visible');
                    this.disabled = true;
                    this.innerHTML = '<i class="fas fa-check"></i> Done!';
                    clickCounter.style.display = 'none';
                } else {
                    // Start a timer to reset the count if user stops clicking
                    clickTimer = setTimeout(() => {
                        clickCount = 0;
                        clickCounter.textContent = '';
                    }, timeLimit);
                }
            });


            /* ========================================
            === NEW: LOVE SHOWER FUNCTION ===
            ========================================
            */
            function startLoveShower() {
                const container = document.getElementById('loveShowerContainer');
                if (!container) return;

                // Create hearts for 3 seconds
                const showerInterval = setInterval(() => {
                    const heart = document.createElement('div');
                    heart.classList.add('love-shower-heart');
                    heart.innerHTML = '❤️'; // Use innerHTML for emoji

                    heart.style.left = Math.random() * 100 + 'vw';
                    heart.style.fontSize = Math.random() * 1 + 1 + 'rem'; // 1rem to 2rem
                    heart.style.animationDuration = (Math.random() * 2 + 3) + 's'; // 3s to 5s fall
                    
                    container.appendChild(heart);

                    // Clean up the heart element after it falls
                    setTimeout(() => {
                        heart.remove();
                    }, 5000); // 5s (max animation duration)

                }, 50); // Create a new heart every 50ms (20 hearts/sec)

                // Stop creating hearts after 3 seconds
                setTimeout(() => {
                    clearInterval(showerInterval);
                }, 3000); 
            }

        });
    </script>

</body>
</html>